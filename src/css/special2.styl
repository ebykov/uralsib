// Если спецпроект интегрирован в сайт, из media queries обычно хватает только двух: mobile и not_mobile
@import 'mq'

@import 'functions'
@import 'keyframes'

// base.styl подключается только в том случае, когда спецпроект расположен на отдельной странице
// @import 'base'

// FYI: на десктопе на странице статьи максимальная ширина контейнера — 1060px. В ленте сайта — 640px.
// Мобильная версия начинается с 679px, и там ограничений по ширине нет

// Название класса рекомендуется выбирать так, чтобы точно не было конфликтов с существующими спецпроектами.
// Обычно имени проекта достаточно

.MegafonPixel
    min-height 100vh
    color #000
    font-size: 18px
    line-height: 1.5em
    text-size-adjust 100%
    border 1px solid #D4D4D4
    box-sizing border-box

    background-color #fff
    background-image linear-gradient(45deg, #F5F5F5 25%, transparent 25%, transparent 74%, #F5F5F5 75%, #F5F5F5), linear-gradient(45deg, #F5F5F5 25%, transparent 25%, transparent 74%, #F5F5F5 75%, #F5F5F5)
    background-size 12px 12px
    background-position 0 0, 6px 6px
    
    &--q
        background-color #F6F6F6
        background-image linear-gradient(45deg, #ECECEC 25%, transparent 25%, transparent 74%, #ECECEC 75%, #ECECEC), linear-gradient(45deg, #ECECEC 25%, transparent 25%, transparent 74%, #ECECEC 75%, #ECECEC)

    @media $mq.not_mobile
        min-height 536px
        
    a
        color inherit !important
        border 0 !important

        &:hover
            color inherit !important
            border 0 !important
        
    svg
        display block
        fill currentColor
        pointer-events none

    button
        font-family inherit
        font-size inherit
        appearance none
        outline 0
        cursor pointer

        &[disabled]
            pointer-events none
        
    &-btn
        position relative
        display block
        width 100%
        height 54px
        margin 0
        padding 0
        border none
        background-color transparent
        box-shadow 6px 6px 0 rgba(0,0,0,.2)
        cursor pointer
        outline none
        box-sizing border-box
        
        &::after
            content attr(data-caption)
            position absolute
            top 0
            left 0
            width 100%
            height 100%
            padding 0 10px
            color #000
            font-size 16px
            font-weight 500
            line-height 54px
            text-align center
            box-shadow 0 0 0 2px #000 inset
            background-color #fff
            box-sizing border-box
            overflow hidden
            transition box-shadow .2s, transform .2s

        &:hover::after
            box-shadow 0 0 0 4px purple inset
            
            @media (hover none), (hover on-demand)
                box-shadow 0 0 0 2px #000 inset
        
        &:active::after
            transform translate3d(3px,3px,0)
        
        &--bg
            &::after
                color #fff
                font-size 20px
                font-weight 700
                background-image linear-gradient(to right, #00B856 0px, #00B856 100%)
                background-repeat no-repeat
                background-position 0 0
                transition color .2s, background-position .4s, box-shadow .2s, transform .2s
            
            &:hover::after
                color #000
                background-position 200px 0
                box-shadow 0 0 0 2px #000 inset
                
        &.is-correct
            cursor default

            &::after
                background-color #00B856

            &:hover::after
                box-shadow 0 0 0 2px #000 inset

            &:active::after
                transform translate3d(0,0,0)
            
        &.is-wrong
            cursor default

            &::after
                background-color #EB5A40

            &:hover::after
                box-shadow 0 0 0 2px #000 inset

            &:active::after
                transform translate3d(0,0,0)

        &__icon
            position absolute
            z-index 3
            top 50%
            right 22px
            display block
            line-height 1
            transform translate3d(0,-50%,0)
            transition transform .2s
            
            ^[-1]:active &
                transform translate3d(3px, calc(-50% + 3px), 0)
                
    &-bound
        position absolute
        z-index 1
        top -6px
        left -6px
        width calc(100% + 12px)
        height calc(100% + 12px)
        border 1px solid #747474
        box-sizing border-box
        
        & span
            position absolute
            top 0
            bottom 0
            left 0
            right 0
            width 100%
            height 100%
            
            &::before
            &::after
                content ''
                position absolute
                width 6px
                height 6px
                background-color #747474
                transform translate3d(-50%, -50%, 0)
                
            &:nth-child(1)
                &::before
                    top 0
                    left 0
                
                &::after
                    top 0
                    left 50%
            
            &:nth-child(2)
                &::before
                    top 0
                    left 100%
                
                &::after
                    top 50%
                    left 100%
                    
            &:nth-child(3)
                &::before
                    top 100%
                    left 100%
                
                &::after
                    top 100%
                    left 50%
                    
            &:nth-child(4)
                &::before
                    top 100%
                    left 0
                
                &::after
                    top 50%
                    left 0
                
    &-enter
        position relative
        width 640px
        max-width 100%
        margin 0 auto
        padding 20px 15px 10px
        
        @media $mq.iphone6
            padding 22px 20px 10px
        
        @media $mq.not_mobile
            min-height 536px
            padding 23px 25px 25px 39px
        
        &__header
            position relative
            z-index 2
            display flex
            justify-content space-between
            align-items center
        
        &__tag
            position relative
            width 68px
            height 38px
            font-size 16px
            font-weight 700
            line-height 38px
            text-align center
            border 1px solid  #747474
            
            &::before
            &::after
            & span::before
            & span::after
                content ''
                position absolute
                width 6px
                height 6px
                background-color #747474
                transform translate3d(-50%, -50%, 0)
                
            &::before
                top 0
                left 0
                
            &::after
                top 0
                left 100%
            
            & span::before
                top 100%
                left 100%
                
            & span::after
                top 100%
                left 0
                
        &__logo
            display block
            width 160px
            height 29px
            
            & svg
                width 100%
                height 100%
                fill #00B856
        
        &__title
            position relative
            z-index 2
            margin-top 20px
            color #760084
            font-size 32px
            font-weight 900
            line-height 1.091em
            pointer-events none
            cursor default
            
            .is-feed &
                pointer-events auto
                cursor pointer
            
            @media $mq.iphone6
                margin-top 30px
                font-size 38px

            @media $mq.not_mobile
                width 318px
                max-width 100%
                margin-top 45px
                font-size 44px
            
        &__summary
            position relative
            z-index 2
            margin-top 5px
            
            @media $mq.iphone6
                margin-top 10px
                
            @media $mq.not_mobile
                width 250px
                max-width 100%
        
        &__start-btn
            margin-top -8px
            max-width 380px

            @media $mq.not_mobile
                position absolute
                z-index 2
                bottom 58px
                left 40px
                width 146px
                margin-top 0
            
        &__img
            display block
            width 200px
            margin 10px auto 0
            
            @media $mq.iphone6
                width 250px
                margin-top 20px
                
            @media (min-width 420px)
                margin-left 40px

            @media $mq.not_mobile
                position absolute
                bottom 0
                right 0
                width 340px
                max-width 100%
                margin 0

    &-q
        width 640px
        max-width 100%
        margin 0 auto
        padding 18px 20px 25px
        
        @media $mq.not_mobile
            padding 18px 24px 25px
    
        &__header
            display flex
            justify-content space-between
            align-items center
            margin-bottom 24px
        
        &__title
            font-size 16px
            font-weight 500
            line-height 1.333em
            
            @media $mq.not_mobile
                font-size 18px
        
        &__pages
            display flex
            align-items center
            margin-left 20px
            font-size 16px
            font-weight 500
            
            & span
                margin-left 10px
                
        &__figure-wrap
            text-align center
            
        &__figure
            position relative
            display inline-block
            max-width 480px
            margin 0 auto
        
        &__figure-img 
            position relative
            z-index 2
            display block
            max-width 100%
            margin 0 auto
            
        &__figure-hint
            position absolute
            z-index 2
            top 0
            bottom 0
            left 0
            right 0
            width 260px
            height 64px
            padding 0 10px
            margin auto
            font-size 22px
            font-weight 700
            line-height 64px
            text-align center
            background-color #fff
            box-shadow 10px 10px 0 rgba(68,68,68,.7)
            
            @media $mq.iphone6
                width 280px
            
            &::before
            &::after
                content ''
                position absolute
                bottom -20px
                left 20px
                width 0
                height 0
                border-style solid
                border-width 20px 20px 0 0
                border-color #fff transparent transparent transparent
                
            &::before
                z-index 1
                bottom -30px
                left 30px
                border-top-color rgba(68,68,68,.7)
                
            &::after
                z-index 2

        &__options
            display flex
            flex-wrap wrap
            margin -8px 0 0 -21px
            padding-top 36px
            
        &__options-item
            width 100%
            padding 8px 0 0 21px
            
            @media (min-width 480px)
                width 50%
            
        &__answer
            width 292px
            max-width 100%
            margin 20px auto 0
            text-align center
            
        &__answer-title
            color #EB5A40
            font-size 20px
            font-weight 700
            
            &--correct
                color #00B856
            
            @media $mq.iphone6
                font-size 22px
        
        &__answer-text
            margin-top 1px
            font-weight 500
            line-height 1.3em
            
            & a
                display inline
                color #105990
                border-bottom 1px solid #a0d0f5

                &:hover
                    color #cd192e
                    border-bottom 1px solid #f6b4bc

        &__next-btn
            width 284px
            max-width 100%
            margin 30px auto 0
            
    &-result
        position relative
        width 640px
        max-width 100%
        margin 0 auto
        
        @media $mq.not_mobile
            min-height 536px

        &__body
            position relative
            padding 20px 15px

            @media $mq.not_mobile
                padding 40px 30px
            
        &__figure
            position relative
            background-color #fff
        
        &__figure-inner
            position relative
            z-index 2
            min-height 324px
            padding 16px 14px
            overflow hidden
            background-color #fff
            
            @media $mq.not_mobile
                min-height 314px
                padding 24px 30px 0

        &__headline
            position relative
            z-index 2
            font-size 14px
            font-weight 700
            line-height 1
            
            @media $mq.iphone6
                font-size 16px

            @media $mq.not_mobile
                font-size 18px

        &__title
            position relative
            z-index 2
            width 240px
            max-width 100%
            margin-top 35px
            font-size 34px
            font-weight 700
            line-height 1.176em

            @media $mq.iphone5_landspace
                width 340px
            
            @media $mq.not_mobile
                margin-top 32px
                
        &__img
            position absolute
            z-index 1

            &--1
                top 80px
                left 110px
                
                @media $mq.not_mobile
                    top 40px
                    right 25px
            
            &--2
                top 30px
                left 146px
                    
                @media $mq.iphone5_landspace
                    left auto
                    right 0
                
                @media $mq.not_mobile
                    top 16px
            
            &--3
                bottom 0
                left 46%
                width 216px
                
            @media $mq.not_mobile
                width auto
                left auto
                right 0
            
        &__figure-bottom
            position absolute
            z-index 2
            bottom 0
            left 0
            right 0
            padding 0 16px 20px
            
            @media $mq.not_mobile
                display flex
                align-items center
                padding 0 30px 32px
            
        &__restart-btn
            position relative
            display inline-block
            padding-right 23px
            margin-top 15px
            font-size 16px
            font-weight 700
            transition opacity .2s
            cursor pointer

            & span
                display block

            & svg
                position absolute
                top 50%
                right 0
                transform translateY(-50%)

            &:hover
                opacity .6
                
            @media $mq.not_mobile
                margin 0 0 0 28px
        
        &__bottom
            padding 20px 15px
            background-color #00B856
            
            @media $mq.iphone6
                padding 28px 20px
                
            @media $mq.not_mobile
                display flex
                justify-content space-between
                align-items center
                min-height 142px
                padding 33px 30px

        &__text
            color #fff
            font-weight 700
            line-height 1.389em
            
            & p
                padding 0
                margin 0 !important
                font-size inherit
                font-weight inherit
                line-height inherit !important

                & a
                    border-bottom 1px solid currentColor !important
                    transition opacity .2s
                    
                    &:hover
                        opacity .6
                        
                        @media (hover none), (hover on-demand)
                            opacity 1
            
            @media $mq.iphone6
                font-size 22px
            
            @media $mq.not_mobile
                width 386px
                max-width 100%
        
        &__btn
            width 166px
            margin-top 20px
            
            @media $mq.not_mobile
                margin-top 0
        
    .likely
        &--custom
            display: flex

        &__widget
            flex-shrink: 0
            display: flex
            align-items: center
            justify-content: center
            min-width 58px
            height 48px
            color #000
            border 2px solid currentColor
            background-color #fff
            cursor: pointer
            
            &:not(:last-child)
                margin-right 5px

            &:hover
                color #fff
                border-color #000
                background-color #000
                
                & .likely__button
                    color #fff
            
            &--facebook
                color #4267B2
                
                &:hover
                    border-color #4267B2
                    background-color #4267B2
                
            &--vkontakte
                color #5B88BD
                
                &:hover
                    border-color #5B88BD
                    background-color #5B88BD
                    
            &--twitter
                color #1DA1F2
                
                &:hover
                    border-color #1DA1F2
                    background-color #1DA1F2

            @media $mq.iphone6
                &:not(:last-child)
                    margin-right 14px

            @media $mq.not_mobile
                &--facebook
                    padding: 0 13px 0 10px

        &__counter
            display: none

        &__icon
            background-color transparent

            & svg
                display: block
                width: 24px
                height: @width
                fill currentColor
                
            &--vkontakte
                & svg
                    width: 28px
                    height: @width

            &--facebook

                @media $mq.not_mobile
                    margin-right 6px

        &__button
            display none
            color #000
            font-size 16px
            font-weight 700
            line-height 1

            @media $mq.not_mobile
                display block
